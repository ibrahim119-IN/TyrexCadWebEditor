<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TYREX WEB CAD EDITOR</title>
    <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
    <div id="viewer-container"></div>
    
    <!-- شريط الأدوات العلوي -->
    <div class="toolbar">
        <div class="toolbar-group">
            <button id="switch-to-2d" class="toolbar-btn active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="3" width="18" height="18" rx="2"/>
                    <line x1="3" y1="9" x2="21" y2="9"/>
                    <line x1="9" y1="21" x2="9" y2="9"/>
                </svg>
                2D View
            </button>
            <button id="switch-to-3d" class="toolbar-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2l-7 7v10h14V9l-7-7z"/>
                    <polyline points="2 12 12 2 22 12"/>
                </svg>
                3D View
            </button>
        </div>
        
        <div class="toolbar-group">
            <button id="zoom-fit" class="toolbar-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="m21 21-4.35-4.35"/>
                    <line x1="11" y1="8" x2="11" y2="14"/>
                    <line x1="8" y1="11" x2="14" y2="11"/>
                </svg>
                Zoom Fit
            </button>
        </div>
        
        <div class="toolbar-group">
            <label class="toolbar-label">
                <input type="checkbox" id="snap-to-grid" checked>
                Snap to Grid
            </label>
            <label class="toolbar-label">
                Grid Size:
                <select id="grid-size">
                    <option value="0.5">0.5m</option>
                    <option value="1" selected>1m</option>
                    <option value="2">2m</option>
                </select>
            </label>
        </div>

        <div class="toolbar-group">
            <button id="tool-wall" class="toolbar-btn active" title="Draw Wall">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="3" width="18" height="18"/>
                </svg>
                Wall
            </button>
            <button id="tool-door" class="toolbar-btn" title="Add Door">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="8" y="3" width="8" height="18"/>
                    <circle cx="14" cy="12" r="1"/>
                </svg>
                Door
            </button>
            <button id="tool-window" class="toolbar-btn" title="Add Window">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="8" width="18" height="8"/>
                    <line x1="12" y1="8" x2="12" y2="16"/>
                </svg>
                Window
            </button>
        </div>

        <div class="toolbar-group">
            <button id="undo" class="toolbar-btn" title="Undo (Ctrl+Z)">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 7h12l-4-4m4 4l-4 4"/>
                    <path d="M3 10v6a2 2 0 0 0 2 2h14"/>
                </svg>
            </button>
            <button id="redo" class="toolbar-btn" title="Redo (Ctrl+Y)">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M21 7H9l4-4m-4 4l4 4"/>
                    <path d="M21 10v6a2 2 0 0 1-2 2H5"/>
                </svg>
            </button>
        </div>

        <div class="toolbar-group">
            <button id="save-project" class="toolbar-btn" title="Save Project">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
                    <polyline points="17 21 17 13 7 13 7 21"/>
                    <polyline points="7 3 7 8 15 8"/>
                </svg>
                Save
            </button>
            <button id="load-project" class="toolbar-btn" title="Load Project">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2v10m0 0l-3-3m3 3l3-3"/>
                    <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2h-4"/>
                </svg>
                Load
            </button>
        </div>
    </div>
    
    <!-- شريط المعلومات السفلي -->
    <div class="info-bar">
        <div id="cursor-position">X: 0.00, Y: 0.00</div>
        <div id="wall-info"></div>
        <div id="area-info"></div>
    </div>
    
    <!-- رسالة المساعدة -->
    <div class="help-message">
        Click to start drawing a wall, click again to finish. Right-click to cancel.
    </div>
    
    <script type="module" src="/src/main.ts"></script>
</body>
</html>